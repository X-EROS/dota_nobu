// Dota2 Editor
// Get latest version: https://github.com/zombieJ/nw-dota2editor

"DOTAAbilities"
{
	"Version"		"1"

	// Rewrite of the Viper Viper Strike ability
	// Author: Pizzalol
	// Date: 19.12.2014.
	// Changed: 15.01.2015.
	// NOTE: Wonky projectile particle
	// NOTE2: Edit the warmup particle and delete 3 out of 4 children for it to work properly (thanks to Noya for the info)
	"B32W"
	{
		// General
		// -------------------------------------------------------------------------------------------------------------
		"BaseClass"	"ability_datadriven"
		"AbilityTextureName"	"B32W"
		"AbilityBehavior"	"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetType"	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitTargetTeam"	"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitDamageType"	"DAMAGE_TYPE_MAGICAL"
		"SpellImmunityType"	"SPELL_IMMUNITY_ENEMIES_NO"
		"AbilityType"	"DOTA_ABILITY_TYPE_BASIC"
		"AbilityCastPoint"	"0.1"
		"AbilityCastAnimation"	"ACT_DOTA_ATTACK"
		"AnimationPlaybackRate"	"2"
		// Time
		// -------------------------------------------------------------------------------------------------------------
		"AbilityCooldown"	"12"
		// Cost
		// -------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"	"80 110 140 170"
		// Casting
		// -------------------------------------------------------------------------------------------------------------
		"AbilityCastRange"	"900"
		// Precache
		// -------------------------------------------------------------------------------------------------------------
		"precache"
		{
			"particle"	"particles/units/heroes/hero_crystalmaiden/maiden_frostbite.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_crystalmaiden.vsndevts"
			"particle"	"particles/units/heroes/hero_crystalmaiden/maiden_frostbite_buff.vpcf"
		}
		"OnSpellStart"
		{
			"TrackingProjectile"
			{
				"Target"	"TARGET"
				"EffectName"	"particles/units/heroes/hero_crystalmaiden/maiden_frostbite.vpcf"
				"MoveSpeed"	"5000"
			}
			"FireSound"
			{
				"Target"	"TARGET"
				"EffectName"	"hero_Crystal.frostbite"
			}
			"ApplyModifier"
			{
				"ModifierName"	"modifier_B32W_buff"
				"Target"	"CASTER"
			}
			"RunScript"
			{
				"ScriptFile"	"scripts/vscripts/heroes/B_Unified/B32_Uesugi_Kenshin.lua"
				"Function"	"B32W"
				"damage"	"%attack_damage"
			}
		}
		"OnProjectileHitUnit"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Viper.viperStrikeImpact"
				"Target"	"TARGET"
			}
			"ApplyModifier"
			{
				"ModifierName"	"modifier_B32W"
				"Target"	"TARGET"
			}
			"Damage"
			{
				"Type"		"DAMAGE_TYPE_MAGICAL"
				"Target"	"TARGET"
				"Damage"	"%damage"
			}
		}
		"Modifiers"
		{
			"modifier_B32W"
			{
				"IsPurgable"	"1"
				"EffectName"	"particles/units/heroes/hero_crystalmaiden/maiden_frostbite_buff.vpcf"
				"States"
				{
					"MODIFIER_STATE_ROOTED"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_INVISIBLE"	"MODIFIER_STATE_VALUE_DISABLED"
					"MODIFIER_STATE_STUNNED" "MODIFIER_STATE_VALUE_ENABLED"
				}
				"Duration"	"1"
			}
			"modifier_B32W_buff"
			{
				"Properties"
				{
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"	"%speed"
				}
				"Duration"	"8"
			}
		}
		// Special
		// -------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"	"FIELD_FLOAT"
				"duration"	"5 6 7 8"
			}
			"02"
			{
				"var_type"	"FIELD_INTEGER"
				"speed"	"50 80 110 140"
			}
			"03"
			{
				"var_type"	"FIELD_INTEGER"
				"damage"	"100 200 300 400"
			}
		}
	}

	// Rewrite of the Viper Viper Strike ability
	// Author: Pizzalol
	// Date: 19.12.2014.
	// Changed: 15.01.2015.
	// NOTE: Wonky projectile particle
	// NOTE2: Edit the warmup particle and delete 3 out of 4 children for it to work properly (thanks to Noya for the info)
	"B32E"
	{
		// General
		// -------------------------------------------------------------------------------------------------------------
		"BaseClass"	"ability_datadriven"
		"AbilityTextureName"	"B32E"
		"AbilityBehavior"	"DOTA_ABILITY_BEHAVIOR_POINT"
		"AbilityUnitTargetType"	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC "
		"AbilityUnitTargetTeam"	"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitDamageType"	"DAMAGE_TYPE_MAGICAL"
		"SpellImmunityType"	"SPELL_IMMUNITY_ENEMIES_NO"
		"AbilityType"	"DOTA_ABILITY_TYPE_BASIC"
		"AbilityCastPoint"	"0.1"
		"AbilityCastAnimation"	"ACT_DOTA_ATTACK"
		"AnimationPlaybackRate"	"2"
		// Time
		// -------------------------------------------------------------------------------------------------------------
		"AbilityCooldown"	"12"
		// Cost
		// -------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"	"80 110 140 170"
		// Casting
		// -------------------------------------------------------------------------------------------------------------
		"AbilityCastRange"	"900"
		// Precache
		// -------------------------------------------------------------------------------------------------------------
		"precache"
		{
			"particle"	"particles/units/heroes/hero_crystalmaiden/maiden_frostbite.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_crystalmaiden.vsndevts"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_jakiro.vsndevts"
			"particle"	"particles/units/heroes/hero_jakiro/jakiro_ice_path.vpcf"
			"particle"	"particles/units/heroes/hero_jakiro/jakiro_ice_path_b.vpcf"
			"particle"	"particles/a04e/a04e.vpcf"
		}
		"OnSpellStart"
		{
			"TrackingProjectile"
			{
				"Target"	"TARGET"
				"EffectName"	"particles/units/heroes/hero_crystalmaiden/maiden_frostbite.vpcf"
				"MoveSpeed"	"5000"
			}
			"FireSound"
			{
				"EffectName"	"Hero_Jakiro.IcePath"
				"Target"	"CASTER"
			}
			"RunScript"
			{
				"ScriptFile"	"scripts/vscripts/heroes/B_Unified/B32_Uesugi_Kenshin.lua"
				"Function"	"FireEffect_IcePath"
				"path_delay"	"%path_delay"
				"duration"	"%duration"
				"path_radius"	"150"
			}
			"DelayedAction"
			{
				"Delay"	"0.3"
				"Action"
				{
					"RunScript"
					{
						"ScriptFile"	"scripts/vscripts/heroes/B_Unified/B32_Uesugi_Kenshin.lua"
						"Function"	"FireEffect_Destroy_IcePath_A"
					}
				}
			}
			"RunScript"
			{
				"ScriptFile"	"scripts/vscripts/heroes/B_Unified/B32_Uesugi_Kenshin.lua"
				"Function"	"B32E"
			}
		}
		"OnProjectileHitUnit"
		{
			"DeleteOnHit"	"0"
			"RunScript"
			{
				"ScriptFile"	"scripts/vscripts/heroes/B_Unified/B32_Uesugi_Kenshin.lua"
				"Function"	"GoIceRock"
				"Target"	"TARGET"
			}
		}
		"Modifiers"
		{
			"modifier_B32E"
			{
				"IsDebuff"	"1"
				"OverrideAnimation"	"ACT_DOTA_DISABLED"
				"EffectName"	"particles/a04e/a04e.vpcf"
				"EffectAttachType"	"attach_origin"
				"States"
				{
					"MODIFIER_STATE_STUNNED"	"MODIFIER_STATE_VALUE_ENABLED"
				}
				"OnCreated"
				{
					"Damage"
					{
						"Target"	"TARGET"
						"Type"	"DAMAGE_TYPE_MAGICAL"
						"Damage"	"%damage"
					}
				}
				"Duration"	"2"
			}
		}
		// Special
		// -------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"	"FIELD_FLOAT"
				"duration"	"5 6 7 8"
			}
			"02"
			{
				"var_type"	"FIELD_INTEGER"
				"speed"	"50 80 110 140"
			}
			"03"
			{
				"var_type"	"FIELD_INTEGER"
				"damage"	"100 200 300 400"
			}
			"04"
			{
				"var_type"	"FIELD_FLOAT"
				"path_delay"	"0"
			}
			"05"
			{
				"var_type"	"FIELD_FLOAT"
				"duration"	"1.10 1.50 1.90 2.30"
			}
			"06"
			{
				"var_type"	"FIELD_INTEGER"
				"path_radius"	"100"
			}
		}
	}

	// Rewrite of Templar Assasssin Psi Blades
	// Author: YOLOSPAGHETTI
	// Date: April 2, 2016
	// Version: 6.86
	// Type: Datadriven
	//
	// ----- FILE REQUIREMENTS -----
	// Script files:
	// scripts/vscripts/heroes/hero_templar_assassin/psi_blades.lua
	"B32R"
	{
		// General
		// -------------------------------------------------------------------------------------------------------------
		"BaseClass"	"ability_datadriven"
		"AbilityTextureName"	"B32R"
		"AbilityBehavior"	"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitTargetType"	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC "
		"AbilityUnitTargetTeam"	"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitDamageType"	"DAMAGE_TYPE_PURE"
		"SpellImmunityType"	"SPELL_IMMUNITY_ENEMIES_YES"

		"precache"
		{
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_crystalmaiden.vsndevts"
			"particle"	"particles/units/heroes/hero_crystalmaiden/maiden_frostbite_buff.vpcf"
		}
		"Modifiers"
		{
			"modifier_B32R"
			{
				"Passive"	"1"
				"Properties"	{}
				"OnTakeDamage"
				{
					"RunScript"
					{
						"ScriptFile"	"scripts/vscripts/heroes/B_Unified/B32_Uesugi_Kenshin.lua"
						"Function"	"B32R"
						"dmg"	"%attack_damage"
					}
				}
			}
			"modifier_B32R_target"
			{
				"IsPurgable"	"1"
				"EffectName"	"particles/units/heroes/hero_crystalmaiden/maiden_frostbite_buff.vpcf"
				"EffectAttachType"	"attach_origin"
				"States"
				{
					"MODIFIER_STATE_ROOTED"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_INVISIBLE"	"MODIFIER_STATE_VALUE_DISABLED"
					"MODIFIER_STATE_STUNNED" "MODIFIER_STATE_VALUE_ENABLED"
				}
				"Duration"	"0.5"
			}
		}
		// Special
		// -------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"	"FIELD_INTEGER"
				"B32R_CD"	"9 7 5 3"
			}
		}
	}

	// Rewrite of the Broodmother Spawn Spiderlings ability
	// Author: Pizzalol
	// Date: November 28, 2015
	// Version: 6.85
	// Type: Datadriven
	// Notes: Uses the normal dota spiderlings NOT custom ones
	"B32T"
	{
		// General
		// -------------------------------------------------------------------------------------------------------------
		"BaseClass"	"ability_datadriven"
		"AbilityTextureName"	"B32T"
		"AbilityBehavior"	"DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"SpellImmunityType"	"SPELL_IMMUNITY_ENEMIES_YES"
		"FightRecapLevel"	"2"
		"AbilityType"	"DOTA_ABILITY_TYPE_ULTIMATE"
		"HotKeyOverride"	"T"
		"MaxLevel"	"3"
		"RequiredLevel"	"6"
		"LevelsBetweenUpgrades"	"6"
		"AbilityCastAnimation"	"ACT_DOTA_CAST_ABILITY_4"
		// Time
		// -------------------------------------------------------------------------------------------------------------
		"AbilityCooldown"	"100"
		// Cost
		// -------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"	"0"
		// Precache
		// -------------------------------------------------------------------------------------------------------------
		"precache"
		{
			"particle"	"particles/units/heroes/hero_dragon_knight/dragon_knight_elder_dragon_corrosive.vpcf"
			"particle"	"particles/units/heroes/hero_dragon_knight/dragon_knight_elder_dragon_fire.vpcf"
			"particle"	"particles/units/heroes/hero_dragon_knight/dragon_knight_elder_dragon_frost.vpcf"
			"model"	"models/heroes/dragon_knight/dragon_knight_dragon.vmdl"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_stormspirit.vsndevts"
			"soundfile"	"soundevents/voscripts/game_sounds_vo_stormspirit.vsndevts"
			"particle"	"particles/a07t2/a07t2.vpcf"
			"particle"	"particles/econ/items/razor/razor_punctured_crest/razor_storm_lightning_strike_blade.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_brewmaster.vsndevts"
		}
		"OnSpellStart"
		{
			"ApplyModifier"
			{
				"Target"	"CASTER"
				"ModifierName"	"modifier_B32T"
			}
			"FireSound"
			{
				"Target"	"CASTER"
				"EffectName"	"Hero_StormSpirit.ElectricVortex"
			}
			"FireSound"
			{
				"Target"	"CASTER"
				"EffectName"	"stormspirit_ss_ability_lightning_14"
			}
		}
		"Modifiers"
		{
			"modifier_B32T"
			{
				"IsHidden"	"0"
				"IsPurgable"	"0"
				"AllowIllusionDuplicate"	"1"
				"Properties"
				{
					"MODIFIER_PROPERTY_OVERRIDE_ANIMATION_RATE"	"3"
					"MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE"	"%damage"
					"MODIFIER_PROPERTY_MAGICAL_RESISTANCE_BONUS"	"60"
					"MODIFIER_PROPERTY_BASE_ATTACK_TIME_CONSTANT"	"1.1"
				}
				"Duration"	"30"
				"IsBuff"	"1"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"scripts/vscripts/heroes/B_Unified/B32_Uesugi_Kenshin.lua"
						"Function"	"B32T"
					}
				}
				"ThinkInterval"	"0.5"
				"States"	{}
				"OnDestroy"	{}
			}
		}
		// Special
		// -------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"	"FIELD_FLOAT"
				"duration"	"10.0"
			}
			"02"
			{
				"var_type"	"FIELD_INTEGER"
				"bonus_movement_speed"	"115"
			}
			"03"
			{
				"var_type"	"FIELD_INTEGER"
				"damage"	"110 160 210"
			}
		}
		// Stats
		// -------------------------------------------------------------------------------------------------------------
		// Attacks are primarily about the damage
		"AbilityModifierSupportValue"	"0.35"
	}
}
